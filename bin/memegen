#!/usr/bin/ruby

$LOAD_PATH.unshift File.expand_path("lib")
$LOAD_PATH.unshift File.expand_path("../lib")
$LOAD_PATH.unshift File.expand_path("../lib", __FILE__)

require "meme_generator/cli"

image, top, bottom = ARGV[0..2]
help = ARGV.delete("--help") || ARGV.delete("-h")
list = ARGV.delete("--list") || ARGV.delete("-l")
campfire = ARGV.delete("--campfire") || ARGV.delete("-c")

usage if help
list_generators if list
setup_campfire if campfire

path = parse_path(image)
generate(path, top, bottom, campfire)
